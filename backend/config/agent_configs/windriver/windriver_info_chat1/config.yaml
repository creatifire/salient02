# Wind River Hospital Info Chat - Healthcare Information Assistant
# Demo agent for Wind River Hospital website
# Focus: Medical services, doctor search, healthcare information

agent_type: "simple_chat"
account: "windriver"
instance_name: "windriver_info_chat1"
name: "Wind River Hospital"
description: "Healthcare information and doctor search assistant for Wind River Hospital"

# System prompt configuration
prompts:
  system_prompt_file: "./system_prompt.md"

# Prompt modules configuration (Phase 4A)
prompting:
  modules:
    enabled: true
    selected:
      - tool_selection_hints       # NEW - choose correct tool (directory vs vector vs email)
      # directory_selection_hints automatically included in directory header when directory tools enabled

model_settings:
  model: "openai/gpt-4o-mini"  # Fast, reliable OpenAI model with excellent tool support
  temperature: 0.3
  max_tokens: 2000

tools:
  profile_capture:
    enabled: true
    schema_file: "profile.yaml"  # Profile schema for hospital visitor information
  
  vector_search:
    enabled: true  # ENABLED - Hospital WordPress content in Pinecone
    max_results: 10
    similarity_threshold: 0.4  # Lower threshold for better recall on medical content
    pinecone:
      index_name: "wyckoff-poc-01"  # Wind River WordPress site content (update with actual index name)
      # index_host will be auto-discovered via Pinecone API if not specified
      # index_host: "https://windriver-poc-01-xyz.svc.region.pinecone.io"  # Optional: explicit host
      namespace: "__default__"  # Pinecone default namespace
      api_key_env: "PINECONE_API_KEY_OPENTHOUGHT"  # openthought-dev project API key
    embedding:
      model: "text-embedding-3-small"  # OpenAI embedding model
      dimensions: 1536
  
  directory:
    enabled: true  # ENABLED - Wind River doctor profiles from directory_lists
    accessible_lists: ["doctors"]  # Lists this agent can search
    max_results: 10  # Maximum entries to return per search
    search_mode: "fts"  # Search mode: exact | substring | fts (full-text search with ranking)
  
  web_search:
    enabled: false  # Disabled - use direct LLM knowledge and vector search only
    provider: "exa"
    engines:
      exa:
        api_key_env: "EXA_API_KEY"
        max_results: 10
      tavily:
        api_key_env: "TAVILY_API_KEY"
        max_results: 10
  
  conversation_management:
    enabled: true
    auto_summarize_threshold: 10
    summary_model: "moonshotai/kimi-k2-0905"

context_management:
  history_limit: 50
  context_window_tokens: 8000
  summarization:
    enabled: true
    trigger_threshold: 10
    summary_length: 200

dependencies:
  vector_db_required: true  # Vector search enabled for WordPress content
  session_required: true
  account_context: true  # Multi-tenant architecture enabled

